source_assessment:
  description: |
    Assess the credibility of this source:
    Title: {title}
    Type: {source_type}
    URL: {url}
    Metadata: {metadata}

    Content preview:
    {content_preview}

    Evaluate:
    1. Source credibility (high/medium/low/unknown)
    2. Reasoning for your assessment
    3. Potential biases you can identify

    Return as JSON with:
    - credibility: "high", "medium", "low", or "unknown"
    - reasoning: string explaining your assessment
    - potential_biases: array of identified biases
  expected_output: "JSON object with credibility, reasoning, and potential_biases"
  agent: analyzer

summarize:
  description: |
    Create a focused summary of this content:
    {full_text}

    Create:
    1. A 2-3 paragraph summary
    2. 5-7 key points (with timestamps if video)
    3. Main argument
    4. Key conclusions

    Return as JSON with:
    - summary: string
    - key_points: array of {point, location} (MAX 7)
    - main_argument: string
    - conclusions: array of strings
  expected_output: "JSON object with summary, key_points, main_argument, and conclusions"
  agent: summarizer

claims:
  description: |
    Extract 5-7 KEY claims from this summary:
    {summary}

    For each claim, classify using these STRICT criteria:
    - "factual": Claim is SUPPORTED by specific evidence in the content (data, citations, studies, statistics)
    - "unsupported": Claim is stated as fact but NO evidence is provided to back it up
    - "opinion": Expresses subjective view, preference, or value judgment
    - "prediction": Makes assertions about future events

    For each claim provide:
    - text: The claim stated concisely
    - type: One of "factual", "unsupported", "opinion", or "prediction"
    - evidence: What evidence supports/contradicts this claim, or "No supporting evidence in source"

    Return as JSON with:
    - claims: array of {text, type, evidence} (MAX 7)
    - main_topic: string
  expected_output: "JSON object with claims (including evidence) and main_topic"
  agent: analyzer

controversy:
  description: |
    Analyze for controversial views and conspiracy patterns:
    Summary: {summary}
    Claims: {claims}
    Context: {content}

    Return as JSON with:
    - controversial_views: array of {target, sentiment, claim_text, reasoning}
    - conspiracy_indicators: array of {pattern, severity, evidence, quote}
    - overall_assessment: {controversy_level, summary}
  expected_output: "JSON object with controversial_views, conspiracy_indicators, and overall_assessment"
  agent: controversy_detector

fallacies:
  description: |
    Analyze these claims for logical fallacies:
    Claims: {claims}
    Text: {full_text}

    For each ACTUAL fallacy:
    - type, quote, location, explanation

    Return as JSON with:
    - fallacies: array of {type, quote, location, explanation}
    - overall_reasoning_quality: "strong", "moderate", or "weak"
  expected_output: "JSON object with fallacies array and overall_reasoning_quality"
  agent: fallacy_detector

counterargument:
  description: |
    Find counterarguments to these claims:
    Claims: {claims}
    Summary: {summary}

    Use web_search tool to find real sources.

    Return as JSON with:
    - selected_claims: array
    - counterargument: string (~100 words)
    - sources: array of {title, url}
  expected_output: "JSON object with selected_claims, counterargument, and sources"
  agent: counterargument_searcher
